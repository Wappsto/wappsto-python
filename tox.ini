[tox]
envlist = py36, py37, flake8, pydoc

[testenv:py36]
deps = pytest
    pytest-mock
    coverage
    mock
	jsonrpcclient

commands =
    coverage run --source wappsto -m pytest test/wappsto_test.py -vv
    coverage report --omit='.tox/*'
    coverage html --omit='.tox/*'

[testenv:py37]
deps = pytest
    pytest-mock
    coverage
    mock
	jsonrpcclient

commands =
    coverage run --source wappsto -m pytest test/wappsto_test.py -vv
    coverage report --omit='.tox/*'
    coverage html --omit='.tox/*'

[testenv:flake8]
deps = flake8

commands = flake8

[testenv:pydoc]
deps = flake8
    flake8-docstrings

commands = flake8 --docstring-convention google --ignore D212,W503




[flake8]
exclude =
    .tox,
    .eggs,
    .git,
    __pycache__,
    wappsto/docs/source/conf.py,
    wappsto/build,
    test,
    UNNEEDED,
    exampleValues,
    *.pyc,
    *.egg-info,
    setup.py
    *main.py


[testenv]
passenv = TRAVIS TRAVIS_*
deps =
    coveralls
commands =
    coverage run --source=wappsto setup.py test
    coveralls
